<!DOCTYPE html>
<html lang="ru">
	<head>
		<meta charset="UTF-8" />
		<meta name="viewport" content="width=device-width, initial-scale=1.0" />
		<link rel="stylesheet" type="text/css" href="style/style.css" />
		<title>Деканат ФВТ</title>
	</head>
	<body>
		<!-- decor-line-top -->
		<svg
			class="decor-line-top"
			xmlns="http://www.w3.org/2000/svg"
			width="55"
			height="200"
			viewBox="0 0 55 200"
			fill="none"
		>
			<path
				d="M3 0V200M27.5 0V200M52 0V200"
				stroke="#AE78F2"
				stroke-width="5"
			/>
		</svg>
		<!-- decor-line-bottom -->
		<svg
			class="decor-line-bottom"
			xmlns="http://www.w3.org/2000/svg"
			width="55"
			height="200"
			viewBox="0 0 55 200"
			fill="none"
		>
			<path
				d="M3 0V200M27.5 0V200M52 0V200"
				stroke="#AE78F2"
				stroke-width="5"
			/>
		</svg>
		<!-- <img class="Logo" src="https://i.ibb.co/Fn1NsJG/Logo.png" /> -->
		<div class="layers">
			<div class="layer__items bg-gradient"></div>
			<!-- <svg
				class="science-image"
				xmlns="http://www.w3.org/2000/svg"
				width="500"
				height="500"
				viewBox="0 0 151 159"
				fill="black"
			>
				<path
					d="M36.7061 47.0506C28.7238 54.2323 16.4253 53.5896 9.23656 45.6152C2.04783 37.6408 2.69114 25.3543 10.6734 18.1727C18.6557 10.9911 30.9542 11.6337 38.143 19.6082C45.3317 27.5826 44.6884 39.869 36.7061 47.0506Z"
					fill="black"
				/>
				<path
					d="M74.796 17.159C70.7521 20.7973 64.5216 20.4717 60.8797 16.4318C57.2378 12.3919 57.5637 6.16751 61.6076 2.52924C65.6515 -1.10904 71.882 -0.783458 75.5239 3.25645C79.1658 7.29635 78.8399 13.5207 74.796 17.159Z"
					fill="black"
				/>
				<path
					d="M146.55 65.034C141.029 70.001 132.523 69.5565 127.551 64.0412C122.579 58.5258 123.024 50.0282 128.545 45.0612C134.066 40.0941 142.572 40.5386 147.544 46.054C152.516 51.5693 152.071 60.067 146.55 65.034Z"
					fill="black"
				/>
				<path
					d="M138.481 120.677C133.487 125.17 125.794 124.768 121.297 119.779C116.8 114.791 117.203 107.105 122.196 102.612C127.189 98.1199 134.883 98.522 139.38 103.51C143.876 108.499 143.474 116.185 138.481 120.677Z"
					fill="black"
				/>
				<path
					d="M99.3723 73.842C95.6098 77.2272 89.8127 76.9243 86.4241 73.1654C83.0356 69.4065 83.3389 63.6151 87.1014 60.2299C90.864 56.8448 96.6611 57.1477 100.05 60.9066C103.438 64.6654 103.135 70.4568 99.3723 73.842Z"
					fill="black"
				/>
				<path
					d="M15.3038 112.847C11.5412 116.232 5.74413 115.929 2.35561 112.171C-1.03291 108.412 -0.729675 102.62 3.0329 99.2352C6.79547 95.85 12.5926 96.1529 15.9811 99.9118C19.3696 103.671 19.0664 109.462 15.3038 112.847Z"
					fill="black"
				/>
				<path
					d="M93.2973 155.107C87.0732 160.707 77.4836 160.206 71.8783 153.988C66.273 147.77 66.7746 138.19 72.9987 132.59C79.2227 126.99 88.8124 127.491 94.4177 133.709C100.023 139.927 99.5213 149.507 93.2973 155.107Z"
					fill="black"
				/>
				<path
					fill-rule="evenodd"
					clip-rule="evenodd"
					d="M64.6971 20.8334C65.3798 21.0276 65.7757 21.7379 65.5814 22.42C63.3693 30.1824 61.8154 34.4839 58.5007 41.9225C58.2121 42.5704 57.4523 42.8617 56.8039 42.5733C56.1554 42.2849 55.8637 41.526 56.1524 40.8781C59.4171 33.5515 60.9298 29.3641 63.1091 21.7168C63.3034 21.0348 64.0144 20.6393 64.6971 20.8334Z"
					fill="black"
				/>
				<path
					fill-rule="evenodd"
					clip-rule="evenodd"
					d="M41.7523 18.2894C41.4459 17.6497 41.7166 16.883 42.3569 16.5769C43.3804 16.0877 46.3399 14.6942 49.0379 13.4257C50.3881 12.7909 51.6746 12.1866 52.6236 11.7409C53.098 11.5181 53.4881 11.3349 53.7596 11.2075L54.1839 11.0083C54.1839 11.0083 54.184 11.0083 54.7305 12.1704C55.277 13.3326 55.2769 13.3326 55.2769 13.3326L54.8529 13.5317C54.5815 13.6591 54.1915 13.8422 53.7171 14.065C52.7684 14.5105 51.4823 15.1147 50.1325 15.7493C47.4304 17.0197 44.4805 18.4086 43.4664 18.8934C42.8261 19.1995 42.0587 18.9291 41.7523 18.2894ZM55.8938 11.6245C56.1956 12.2663 55.9194 13.0311 55.2769 13.3326L54.7305 12.1704L54.1839 11.0083C54.8264 10.7068 55.592 10.9826 55.8938 11.6245Z"
					fill="black"
				/>
				<path
					fill-rule="evenodd"
					clip-rule="evenodd"
					d="M108.915 18.8797C101.809 14.4937 93.6486 12.0726 82.2001 10.5843C81.4961 10.4928 80.9998 9.84853 81.0914 9.14533C81.183 8.44212 81.8279 7.94624 82.5318 8.03774C94.1776 9.55171 102.734 12.0463 110.266 16.6949C117.785 21.3355 124.179 28.0595 131.606 37.8451C132.035 38.4101 131.924 39.2155 131.358 39.644C130.792 40.0724 129.986 39.9616 129.557 39.3966C122.201 29.7035 116.035 23.2737 108.915 18.8797ZM75.1854 19.4004C75.8171 19.0771 76.5917 19.3266 76.9153 19.9578L82.6955 31.2305C83.0191 31.8616 82.7693 32.6354 82.1376 32.9587C81.5058 33.282 80.7313 33.0324 80.4077 32.4013L74.6274 21.1286C74.3038 20.4974 74.5536 19.7237 75.1854 19.4004Z"
					fill="black"
				/>
				<path
					fill-rule="evenodd"
					clip-rule="evenodd"
					d="M87.1304 43.5228C87.8016 43.2918 88.5331 43.6482 88.7642 44.3187L91.9771 53.6389C92.2083 54.3094 91.8516 55.0401 91.1804 55.271C90.5093 55.5019 89.7778 55.1456 89.5467 54.4751L86.3337 45.1549C86.1026 44.4844 86.4593 43.7537 87.1304 43.5228Z"
					fill="black"
				/>
				<path
					fill-rule="evenodd"
					clip-rule="evenodd"
					d="M122.148 58.2258C122.356 58.9037 121.975 59.6219 121.296 59.83L105.758 64.5943C105.079 64.8023 104.36 64.4214 104.152 63.7435C103.944 63.0656 104.325 62.3473 105.004 62.1393L120.542 57.375C121.221 57.1669 121.94 57.5478 122.148 58.2258Z"
					fill="black"
				/>
				<path
					fill-rule="evenodd"
					clip-rule="evenodd"
					d="M123.027 48.999C122.8 49.6709 122.071 50.032 121.398 49.8054C99.7635 42.5168 87.4516 39.4672 64.8852 36.4097C64.1818 36.3144 63.6889 35.6675 63.7843 34.9648C63.8797 34.2621 64.5272 33.7697 65.2306 33.865C87.9747 36.9465 100.446 40.0367 122.22 47.372C122.892 47.5986 123.254 48.327 123.027 48.999Z"
					fill="black"
				/>
				<path
					fill-rule="evenodd"
					clip-rule="evenodd"
					d="M83.0421 60.3272C82.7046 60.951 81.9247 61.1834 81.3003 60.8462C67.0419 53.1473 58.9914 49.3232 44.4287 43.6438C43.7675 43.3859 43.4407 42.6414 43.6989 41.9808C43.957 41.3202 44.7023 40.9938 45.3635 41.2516C60.0379 46.9746 68.1847 50.8452 82.5225 58.5871C83.147 58.9243 83.3796 59.7034 83.0421 60.3272Z"
					fill="black"
				/>
				<path
					fill-rule="evenodd"
					clip-rule="evenodd"
					d="M55.4694 34.2308C55.4548 34.9398 54.8677 35.5028 54.158 35.4882L46.5217 35.3316C45.812 35.3171 45.2485 34.7305 45.263 34.0215C45.2776 33.3125 45.8647 32.7496 46.5744 32.7641L54.2108 32.9207C54.9205 32.9353 55.484 33.5218 55.4694 34.2308Z"
					fill="black"
				/>
				<path
					fill-rule="evenodd"
					clip-rule="evenodd"
					d="M120.076 99.222C113.561 89.723 109.629 84.6901 101.922 76.2859C101.442 75.763 101.478 74.9508 102.001 74.4718C102.525 73.9927 103.338 74.0283 103.817 74.5511C111.613 83.0525 115.619 88.1813 122.197 97.7704C122.598 98.3554 122.449 99.1546 121.863 99.5554C121.278 99.9563 120.478 99.807 120.076 99.222ZM82.164 70.8274C82.4618 71.471 82.181 72.2341 81.5367 72.5317L63.3817 80.9171C62.7374 81.2147 61.9736 80.9342 61.6757 80.2905C61.3778 79.6468 61.6586 78.8838 62.3029 78.5862L80.458 70.2007C81.1023 69.9031 81.8661 70.1837 82.164 70.8274Z"
					fill="black"
				/>
				<path
					fill-rule="evenodd"
					clip-rule="evenodd"
					d="M94.6463 78.6132C95.3548 78.6572 95.8934 79.2667 95.8493 79.9745C95.086 92.2299 94.4586 98.9826 93.0182 110.814C92.9325 111.518 92.2918 112.019 91.5871 111.934C90.8825 111.848 90.3808 111.208 90.4665 110.504C91.9008 98.7224 92.5236 92.0199 93.2838 79.815C93.3278 79.1072 93.9379 78.5692 94.6463 78.6132ZM53.0493 49.7922C53.6623 50.1496 53.8693 50.9359 53.5114 51.5484L49.113 59.0768C48.7551 59.6892 47.9681 59.8959 47.355 59.5385C46.742 59.181 46.5351 58.3947 46.8929 57.7823L51.2914 50.2539C51.6492 49.6414 52.4362 49.4347 53.0493 49.7922Z"
					fill="black"
				/>
				<path
					fill-rule="evenodd"
					clip-rule="evenodd"
					d="M140.295 70.0292C141.004 70.0733 141.542 70.6828 141.498 71.3906C140.869 81.4734 140.036 87.2626 137.557 97.59C137.391 98.2795 136.698 98.7045 136.007 98.5391C135.317 98.3738 134.892 97.6807 135.057 96.9911C137.501 86.8106 138.312 81.1683 138.933 71.2307C138.977 70.523 139.587 69.985 140.295 70.0292ZM115.719 114.97C115.801 115.675 115.296 116.312 114.591 116.395C100.944 117.989 93.1223 118.284 78.9429 117.52C78.2341 117.482 77.6905 116.877 77.7287 116.169C77.7669 115.461 78.3725 114.918 79.0813 114.956C93.1101 115.711 100.786 115.422 114.293 113.844C114.998 113.762 115.636 114.266 115.719 114.97ZM120.555 122.67C121.054 123.174 121.05 123.987 120.546 124.486C113.652 131.304 109.516 134.867 101.177 139.688C100.563 140.043 99.7766 139.833 99.4211 139.22C99.0655 138.606 99.2754 137.82 99.8897 137.465C107.98 132.788 111.942 129.382 118.737 122.661C119.242 122.162 120.056 122.166 120.555 122.67ZM36.2982 50.303C36.8573 49.8661 37.6651 49.9647 38.1025 50.5233C58.7291 76.8661 67.3707 93.4582 78.5094 125.424C78.7428 126.094 78.3885 126.825 77.7182 127.059C77.0478 127.292 76.3152 126.938 76.0818 126.268C65.0269 94.543 56.5143 78.2055 36.0778 52.1055C35.6404 51.5469 35.7391 50.74 36.2982 50.303ZM43.7759 65.9304C44.3441 66.3555 44.4598 67.1602 44.0343 67.7278C34.921 79.8855 29.5408 86.5143 19.3964 97.8656C18.9237 98.3946 18.1112 98.4405 17.5817 97.9683C17.0522 97.496 17.0061 96.6843 17.4789 96.1553C27.5706 84.863 32.9043 78.2916 41.9767 66.1885C42.4022 65.6209 43.2077 65.5053 43.7759 65.9304ZM54.1458 83.5855C54.4913 84.205 54.2686 84.9869 53.6485 85.3321L22.0899 102.897C21.4698 103.242 20.6871 103.019 20.3416 102.4C19.9962 101.781 20.2188 100.999 20.8389 100.653L52.3975 83.0887C53.0176 82.7436 53.8003 82.966 54.1458 83.5855ZM11.4711 51.1169C12.1336 51.3714 12.4642 52.1143 12.2094 52.7762C9.28809 60.366 7.45881 66.3488 6.57924 72.5979C5.69993 78.845 5.76125 85.4201 6.69052 94.1945C6.7652 94.8997 6.25351 95.5319 5.54761 95.6065C4.84171 95.6811 4.20893 95.1699 4.13424 94.4647C3.1921 85.5687 3.11502 78.7674 4.03374 72.2403C4.95218 65.7151 6.85731 59.5261 9.81015 51.8545C10.0649 51.1926 10.8085 50.8624 11.4711 51.1169ZM67.9527 115.614C67.8741 116.319 67.2384 116.827 66.533 116.748C49.1441 114.812 39.3246 113.373 21.7068 109.971C21.0098 109.836 20.5541 109.163 20.6888 108.466C20.8235 107.77 21.4977 107.315 22.1946 107.45C39.74 110.838 49.4914 112.267 66.8176 114.196C67.5231 114.274 68.0313 114.909 67.9527 115.614ZM64.6666 145.895C64.574 146.598 63.9283 147.093 63.2246 147C51.8392 145.503 43.438 143.098 35.9663 138.692C28.5063 134.293 22.0704 127.957 14.5271 118.765C14.0771 118.216 14.1573 117.407 14.7062 116.958C15.2552 116.508 16.065 116.588 16.515 117.137C23.986 126.241 30.1958 132.308 37.2729 136.481C44.3383 140.647 52.3657 142.982 63.5602 144.454C64.2639 144.547 64.7593 145.192 64.6666 145.895Z"
					fill="black"
				/>
				<path
					fill-rule="evenodd"
					clip-rule="evenodd"
					d="M89.7607 121.971C90.4402 122.176 90.8246 122.892 90.6193 123.571L89.5187 127.211C89.3134 127.89 88.5961 128.274 87.9166 128.069C87.2371 127.864 86.8527 127.147 87.058 126.468L88.1586 122.828C88.3639 122.15 89.0811 121.765 89.7607 121.971Z"
					fill="black"
				/>
			</svg> -->
			<div class="layer__items layer-3"><h1>ФВТ</h1></div>
			<img
				class="Logo"
				id="logo"
				src="https://i.ibb.co/Fn1NsJG/Logo.png"
				style="display: block"
			/>
			<div id="main" class="layer__items layer-4" style="display: block">
				<h1>Деканат</h1>
				<h1>факультета вычислительной техники</h1>
				<p>Твой надежный помощник в обучении</p>
				<div><button id="get-reg">Зарегистрироваться</button></div>
				<div><button id="get-doc">Заказать справку</button></div>
			</div>
			<form id="reg-form" style="display: none">
				<p>Введите номер студенческого билета</p>
				<input type="text" id="studnum" />
				<p>Введите ФИО</p>
				<input type="text" id="studname" />
				<p>Введите номер группы</p>
				<input type="text" id="studgroup" />
				<p>Введите ваш год рождения</p>
				<input type="text" id="studyear" />
				<button id="accept-reg">Отправить</button>
				<button id="decline-reg">Отменить</button>
			</form>
			<form id="doc-form" style="display: none">
				<p>Введите номер студенческого билета</p>
				<input type="text" id="studnum" />
				<p>Введите ФИО</p>
				<input type="text" id="studname" />
				<p>Введите название целевой организации</p>
				<input type="text" id="organisation" />
				<button id="accept-doc">Отправить</button>
				<button id="decline">Отменить</button>
			</form>
			<div class="layer__items layer-5"></div>
		</div>
		<div class="layer__items layer-6"></div>
		<div class="hero-content"></div>
		<script src="https://telegram.org/js/telegram-web-app.js"></script>
		<script>
			let tg = window.Telegram.WebApp
			tg.expand()

			let main = document.getElementById('main')
			let logo = document.getElementById('logo')
			let doc_form = document.getElementById('doc-form')
			let reg_form = document.getElementById('reg-form')
			let get_doc = document.getElementById('get-doc')
			let get_reg = document.getElementById('get-reg')
			let decline_doc = document.getElementById('decline-doc')
			let accept_doc = document.getElementById('accept-doc')
			let decline_reg = document.getElementById('decline-reg')
			let accept_reg = document.getElementById('accept-reg')

			get_doc.addEventListener('click', () => {
				doc_form.style.display = 'block'
				logo.style.display = 'none'
				main.style.display = 'none'
				document.getElementById('studname').value =
					tg.initDataUnsafe.user.first_name +
					' ' +
					tg.initDataUnsafe.user.last_name
			})

			get_reg.addEventListener('click', () => {
				reg_form.style.display = 'block'
				logo.style.display = 'none'
				main.style.display = 'none'
				document.getElementById('studname').value =
					tg.initDataUnsafe.user.first_name +
					' ' +
					tg.initDataUnsafe.user.last_name
			})

			decline_doc.addEventListener('click', () => {
				tg.close()
			})

			accept_doc.addEventListener('click', () => {
				let studnum = document.getElementById('studnum').value
				let studname = document.getElementById('studname').value
				let organisation = document.getElementById('organisation').value
				if (studname.length < 5) {
					document.getElementById('error').innerText = 'Ошибка в ФИО'
					return
				}
				let document_data = {
					studnum: studnum,
					studname: studname,
					organisation: organisation,
					action: 'document_request',
				}
				tg.sendData(JSON.stringify(document_data))
				tg.close()
			})

			decline_reg.addEventListener('click', () => {
				tg.close()
			})

			accept_reg.addEventListener('click', () => {
				let studnum = document.getElementById('studnum').value
				let studname = document.getElementById('studname').value
				let studgroup = document.getElementById('studgroup').value
				let studyear = document.getElementById('studyear').value
				let document_data = {
					studnum: studnum,
					studname: studname,
					studgroup: studgroup,
					studyear: studyear,
					action: 'reg_user',
				}
				tg.sendData(JSON.stringify(document_data))
				tg.close()
			})
		</script>
	</body>
</html>
